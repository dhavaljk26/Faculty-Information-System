
<p>
  <strong>Name:</strong>
  <%= @course.name %>
</p>

<p>
  <strong>Credits:</strong>
  <%= @course.credits %>
</p>

<p>
  <strong>LTP:</strong>
  <%= @course.ltp %>
</p>

<p>
  <strong>Course Type:</strong>
  <%= @course.course_type %>
</p>

<p>
  <strong>Academic Degree:</strong>
  <%= @course.academic_degree.name %>
</p>

<p>
  <strong>Department:</strong>
  <%= @course.department.name %>
</p>

<% if logged_in? and current_faculty.admin %>
  <%= link_to 'Edit Details', edit_course_path(@course) %>
<% end %>

<h3>Pre Requisites</h3>

<div id="pre_requisites">
  <%= render @course.course_pre_requisites %>
</div>

<% if logged_in? and current_faculty.admin %>
  <div>
    <%= form_for([@course, @course.course_pre_requisites.new]) do |f| %>
        <div class="field">
          <%= f.label :course_pre_requisite_id %>
          <%= f.select :course_pre_requisite_id, options_for_select(Course.all.map{ |c| [c.name, c.id ] }) %>

        </div>

        <div class="actions">
          <%= f.submit "Add New Prerequisite" %>
        </div>
    <% end %>
  </div>
<%end%>
<h2>Faculties who have taught this course</h2>

<table>
  <thead>
  <tr>
    <th>First name</th>
    <th>Last name</th>
    <th>Designation</th>
    <th>Email</th>
    <th>Department</th>
    <th colspan="3"></th>
  </tr>
  </thead>

  <tbody>
  <% @course.faculties.each do |faculty| %>
      <tr>
        <td><%= faculty.first_name %></td>
        <td><%= faculty.last_name %></td>
        <td><%= faculty.designation %></td>
        <td><%= faculty.email %></td>
        <td><%= faculty.department.name %></td>
      </tr>
  <% end %>
  </tbody>
</table>

<br>

<% if logged_in? and current_faculty.admin %>
  <%= form_tag :action => 'add_faculty'  do %>

      <h4>Select Faculty to Add</h4>
      <%= select("add", "add_faculty_id", Faculty.all.collect {|f| [ f.first_name+" "+f.last_name, f.id ] }) %>
      <%= submit_tag("Add") %>

  <% end %>

  <%= form_tag :action => 'del_faculty'  do %>

      <h4>Select Faculty to Remove</h4>
      <%= select("del", "del_faculty_id", @course
          .faculties.collect {|f| [ f.first_name+" "+f.last_name, f.id ] }) %>
      <%= submit_tag("Remove") %>

  <% end %>
<% end %>

<%= link_to 'Back', courses_path %>
